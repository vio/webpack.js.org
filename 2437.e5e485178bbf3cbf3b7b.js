"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2437],{2437:function(e,a,n){n.r(a),n(7378);var t=n(2682);function p(){return(p=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function o({components:e,...a}){return(0,t.kt)("wrapper",p({components:e},a),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"This section describes webpack internals and can be useful for plugin developers")),(0,t.kt)("p",null,"The bundling is a function that takes some files and emits others."),(0,t.kt)("p",null,"But between input and output, it also has ",(0,t.kt)("a",{href:"/concepts/modules/",parentName:"p"},"modules"),", ",(0,t.kt)("a",{href:"/concepts/entry-points/",parentName:"p"},"entry points"),", chunks, chunk groups, and many other intermediate parts."),(0,t.kt)("h2",{id:"the-main-parts"},"The main parts",(0,t.kt)("a",{href:"#the-main-parts","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"Every file used in your project is a ",(0,t.kt)("a",{href:"/concepts/modules/",parentName:"p"},"Module")),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"./index.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"import")," app ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'./app.js'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"./app.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"export")," ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"default")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'the app'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"By using each other, the modules form a graph (",(0,t.kt)("inlineCode",{parentName:"p"},"ModuleGraph"),")."),(0,t.kt)("p",null,"During the bundling process, modules are combined into chunks.\nChunks combine into chunk groups and form a graph (",(0,t.kt)("inlineCode",{parentName:"p"},"ChunkGraph"),") interconnected through modules.\nWhen you describe an entry point - under the hood, you create a chunk group with one chunk."),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"./webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  entry",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'./index.js'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"One chunk group with the ",(0,t.kt)("inlineCode",{parentName:"p"},"main")," name created (",(0,t.kt)("inlineCode",{parentName:"p"},"main")," is the default name for an entry point).\nThis chunk group contains ",(0,t.kt)("inlineCode",{parentName:"p"},"./index.js")," module. As the parser handles imports inside ",(0,t.kt)("inlineCode",{parentName:"p"},"./index.js")," new modules are added into this chunk."),(0,t.kt)("p",null,"Another example:"),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"./webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  entry",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n    home",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'./home.js'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    about",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'./about.js'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"Two chunk groups with names ",(0,t.kt)("inlineCode",{parentName:"p"},"home")," and ",(0,t.kt)("inlineCode",{parentName:"p"},"about")," are created.\nEach of them has a chunk with a module - ",(0,t.kt)("inlineCode",{parentName:"p"},"./home.js")," for ",(0,t.kt)("inlineCode",{parentName:"p"},"home")," and ",(0,t.kt)("inlineCode",{parentName:"p"},"./about.js")," for ",(0,t.kt)("inlineCode",{parentName:"p"},"about")),(0,t.kt)("blockquote",null,(0,t.kt)("p",{parentName:"blockquote"},"There might be more than one chunk in a chunk group. For example ",(0,t.kt)("a",{href:"/plugins/split-chunks-plugin/",parentName:"p"},"SplitChunksPlugin")," splits a chunk into one or more chunks.")),(0,t.kt)("h2",{id:"chunks"},"Chunks",(0,t.kt)("a",{href:"#chunks","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"Chunks come in two forms:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"initial")," is the main chunk for the entry point. This chunk contains all the modules and their dependencies that you specify for an entry point."),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"non-initial")," is a chunk that may be lazy-loaded. It may appear when ",(0,t.kt)("a",{href:"/guides/code-splitting/#dynamic-imports",parentName:"li"},"dynamic import")," or ",(0,t.kt)("a",{href:"/plugins/split-chunks-plugin/",parentName:"li"},"SplitChunksPlugin")," is being used.")),(0,t.kt)("p",null,"Each chunk has a corresponding ",(0,t.kt)("strong",{parentName:"p"},"asset"),". The assets are the output files - the result of bundling."),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  entry",(0,t.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'./src/index.jsx'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"./src/index.jsx")),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"import")," React ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'react'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"import")," ReactDOM ",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"from")," ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'react-dom'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\n",(0,t.kt)("span",{className:"token keyword",parentName:"code"},"import"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token string",parentName:"code"},"'./app.jsx'"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"then"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"App"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ReactDOM",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"render"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token operator",parentName:"code"},"<"),"App ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"/"),(0,t.kt)("span",{className:"token operator",parentName:"code"},">"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," root",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,"Initial chunk with name ",(0,t.kt)("inlineCode",{parentName:"p"},"main")," is created. It contains:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"./src/index.jsx")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"react")),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"react-dom"))),(0,t.kt)("p",null,"and all their dependencies, except ",(0,t.kt)("inlineCode",{parentName:"p"},"./app.jsx")),(0,t.kt)("p",null,"Non-initial chunk for ",(0,t.kt)("inlineCode",{parentName:"p"},"./app.jsx")," is created as this module is imported dynamically."),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"Output:")),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"/dist/main.js")," - an ",(0,t.kt)("inlineCode",{parentName:"li"},"initial")," chunk"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"/dist/394.js")," - ",(0,t.kt)("inlineCode",{parentName:"li"},"non-initial")," chunk")),(0,t.kt)("p",null,"By default, there is no name for ",(0,t.kt)("inlineCode",{parentName:"p"},"non-initial")," chunks so that a unique ID is used instead of a name.\nWhen using dynamic import we may specify a chunk name explicitly by using a ",(0,t.kt)("a",{href:"/api/module-methods/#magic-comments",parentName:"p"},'"magic" comment'),":"),(0,t.kt)("pre",null,(0,t.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,t.kt)("span",{className:"token keyword",parentName:"code"},"import"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),"\n  ",(0,t.kt)("span",{className:"token comment",parentName:"code"},'/* webpackChunkName: "app" */'),"\n  ",(0,t.kt)("span",{className:"token string",parentName:"code"},"'./app.jsx'"),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"then"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token parameter",parentName:"code"},"App"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")")," ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"=>")," ",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ReactDOM",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"."),(0,t.kt)("span",{className:"token function",parentName:"code"},"render"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,t.kt)("span",{className:"token operator",parentName:"code"},"<"),"App ",(0,t.kt)("span",{className:"token operator",parentName:"code"},"/"),(0,t.kt)("span",{className:"token operator",parentName:"code"},">"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},",")," root",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n",(0,t.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,t.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,t.kt)("p",null,(0,t.kt)("strong",{parentName:"p"},"Output:")),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"/dist/main.js")," - an ",(0,t.kt)("inlineCode",{parentName:"li"},"initial")," chunk"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"/dist/app.js")," - ",(0,t.kt)("inlineCode",{parentName:"li"},"non-initial")," chunk")),(0,t.kt)("h2",{id:"output"},"Output",(0,t.kt)("a",{href:"#output","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,t.kt)("span",{className:"header-link",parentName:"a"}))),(0,t.kt)("p",null,"The names of the output files are affected by the two fields in the config:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{href:"/configuration/output/#outputfilename",parentName:"li"},(0,t.kt)("inlineCode",{parentName:"a"},"output.filename"))," - for ",(0,t.kt)("inlineCode",{parentName:"li"},"initial")," chunk files"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("a",{href:"/configuration/output/#outputchunkfilename",parentName:"li"},(0,t.kt)("inlineCode",{parentName:"a"},"output.chunkFilename"))," - for ",(0,t.kt)("inlineCode",{parentName:"li"},"non-initial")," chunk files"),(0,t.kt)("li",{parentName:"ul"},"In some cases chunks are used ",(0,t.kt)("inlineCode",{parentName:"li"},"initial")," and ",(0,t.kt)("inlineCode",{parentName:"li"},"non-initial"),". In those cases ",(0,t.kt)("inlineCode",{parentName:"li"},"output.filename")," is used.")),(0,t.kt)("p",null,"A ",(0,t.kt)("a",{href:"/configuration/output/#template-strings",parentName:"p"},"few placeholders")," are available in these fields. Most often:"),(0,t.kt)("ul",null,(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"[id]")," - chunk id (e.g. ",(0,t.kt)("inlineCode",{parentName:"li"},"[id].js")," -> ",(0,t.kt)("inlineCode",{parentName:"li"},"485.js"),")"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"[name]")," - chunk name (e.g. ",(0,t.kt)("inlineCode",{parentName:"li"},"[name].js")," -> ",(0,t.kt)("inlineCode",{parentName:"li"},"app.js"),"). If a chunk has no name, then its id will be used"),(0,t.kt)("li",{parentName:"ul"},(0,t.kt)("inlineCode",{parentName:"li"},"[contenthash]")," - md4-hash of the output file content (e.g. ",(0,t.kt)("inlineCode",{parentName:"li"},"[contenthash].js")," -> ",(0,t.kt)("inlineCode",{parentName:"li"},"4ea6ff1de66c537eb9b2.js"),")")))}o.isMDXComponent=!0,a.default=o}}]);