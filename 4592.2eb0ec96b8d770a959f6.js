"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4592],{4592:function(e,t,a){a.r(t),a(7378);var n=a(2682);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function i({components:e,...t}){return(0,n.kt)("wrapper",o({components:e},t),(0,n.kt)("p",null,"When contributing to the core repo, writing a loader/plugin, or even working on a complex project, debugging tools can be central to your workflow. Whether the problem is slow performance on a large project or an unhelpful traceback, the following utilities can make figuring it out less painful."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The ",(0,n.kt)("a",{href:"/api/stats",parentName:"li"},(0,n.kt)("inlineCode",{parentName:"a"},"stats")," data")," made available through ",(0,n.kt)("a",{href:"/api/node/#stats-object",parentName:"li"},"Node")," and the ",(0,n.kt)("a",{href:"/api/cli/#common-options",parentName:"li"},"CLI"),"."),(0,n.kt)("li",{parentName:"ul"},"Chrome ",(0,n.kt)("strong",{parentName:"li"},"DevTools")," via ",(0,n.kt)("inlineCode",{parentName:"li"},"node-nightly")," and the latest Node.js versions.")),(0,n.kt)("h2",{id:"stats"},"Stats",(0,n.kt)("a",{href:"#stats","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Whether you want to sift through ",(0,n.kt)("a",{href:"/api/stats",parentName:"p"},"this data")," manually or use a tool to process it, the ",(0,n.kt)("inlineCode",{parentName:"p"},"stats")," data can be extremely useful when debugging build issues. We won't go in depth here as there's an ",(0,n.kt)("a",{href:"/api/stats",parentName:"p"},"entire page")," dedicated to its contents, but know that you can use it to find the following information:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The contents of every module."),(0,n.kt)("li",{parentName:"ul"},"The modules contained within every chunk."),(0,n.kt)("li",{parentName:"ul"},"Per module compilation and resolving stats."),(0,n.kt)("li",{parentName:"ul"},"Build errors and warnings."),(0,n.kt)("li",{parentName:"ul"},"The relationships between modules."),(0,n.kt)("li",{parentName:"ul"},"And much more...")),(0,n.kt)("p",null,"On top of that, the official ",(0,n.kt)("a",{href:"https://github.com/webpack/analyse",parentName:"p"},"analyze tool")," and ",(0,n.kt)("a",{href:"/guides/code-splitting/#bundle-analysis",parentName:"p"},"various others")," will accept this data and visualize it in various ways."),(0,n.kt)("h2",{id:"devtools"},"DevTools",(0,n.kt)("a",{href:"#devtools","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"While ",(0,n.kt)("a",{href:"https://nodejs.org/api/console.html",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"console"))," statements may work well in straightforward scenarios, sometimes a more robust solution is needed. As most front-end developers already know, Chrome DevTools are a life saver when debugging web applications, ",(0,n.kt)("em",{parentName:"p"},"but they donâ€™t have to stop there"),". As of Node v6.3.0+, developers can use the built-in ",(0,n.kt)("inlineCode",{parentName:"p"},"--inspect")," flag to debug a node program in DevTools."),(0,n.kt)("p",null,"This gives you the power to easily create breakpoints, debug memory usage, expose and examine objects in the console, and much more. In this short demo, we'll utilize the ",(0,n.kt)("a",{href:"https://github.com/hemanth/node-nightly",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"node-nightly"))," package which provides access to the latest and greatest inspecting capabilities."),(0,n.kt)("aside",{className:"warning"},(0,n.kt)("h6",{className:"warning__prefix",parentName:"aside"},"warning"),(0,n.kt)("p",{parentName:"aside"},"The ",(0,n.kt)("inlineCode",{parentName:"p"},"--inspect")," interface has been available since v6.3.0 so feel free to try it out with your local version, but be warned that certain features and flags may differ from the ones in this demo.")),(0,n.kt)("p",null,"Let's start by installing it globally:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},(0,n.kt)("span",{className:"token function",parentName:"code"},"npm")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"install")," --global node-nightly")),(0,n.kt)("p",null,"Now, we'll need to run it once to finish the installation:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},"node-nightly")),(0,n.kt)("p",null,"Now, we can use ",(0,n.kt)("inlineCode",{parentName:"p"},"node-nightly")," along with the ",(0,n.kt)("inlineCode",{parentName:"p"},"--inspect")," flag to start our build in any webpack-based project. Note that we cannot run NPM ",(0,n.kt)("inlineCode",{parentName:"p"},"scripts"),", e.g. ",(0,n.kt)("inlineCode",{parentName:"p"},"npm run build"),", so we'll have to specify the full ",(0,n.kt)("inlineCode",{parentName:"p"},"node_modules")," path:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},"node-nightly --inspect ./node_modules/webpack/bin/webpack.js")),(0,n.kt)("p",null,"Which should output something like:"),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-bash",parentName:"pre"},"Debugger listening on ws://127.0.0.1:9229/c624201a-250f-416e-a018-300bbec7be2c\nFor ",(0,n.kt)("span",{className:"token builtin class-name",parentName:"code"},"help")," see https://nodejs.org/en/docs/inspector")),(0,n.kt)("p",null,"Now jump to ",(0,n.kt)("inlineCode",{parentName:"p"},"chrome://inspect")," in the browser and you should see any active scripts you've inspected under the ",(0,n.kt)("em",{parentName:"p"},"Remote Target"),' header. Click the "inspect" link under each script to open a dedicated debugger or the ',(0,n.kt)("em",{parentName:"p"},"Open dedicated DevTools for Node")," link for a session that will connect automatically. You can also check out the ",(0,n.kt)("a",{href:"https://chrome.google.com/webstore/detail/nodejs-v8-inspector-manag/gnhhdgbaldcilmgcpfddgdbkhjohddkj",parentName:"p"},"NiM extension"),", a handy Chrome plugin that will automatically open a DevTools tab every time you ",(0,n.kt)("inlineCode",{parentName:"p"},"--inspect")," a script."),(0,n.kt)("p",null,"We recommend using the ",(0,n.kt)("inlineCode",{parentName:"p"},"--inspect-brk")," flag which will break on the first statement of the script allowing you to go through the source to set breakpoints and start/stop the build as you please. Also, don't forget that you can still pass arguments to the script. For example, if you have multiple configuration files you could pass ",(0,n.kt)("inlineCode",{parentName:"p"},"--config webpack.prod.js")," to specify the configuration you'd like to debug."))}i.isMDXComponent=!0,t.default=i}}]);