"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1286],{1286:function(e,t,a){a.r(t),a(7378);var n=a(2682);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function r({components:e,...t}){return(0,n.kt)("wrapper",p({components:e},t),(0,n.kt)("p",null,"Webpack can compile for multiple environments or ",(0,n.kt)("em",{parentName:"p"},"targets"),". To understand what a ",(0,n.kt)("inlineCode",{parentName:"p"},"target")," is in detail, read through ",(0,n.kt)("a",{href:"/concepts/targets/",parentName:"p"},"the targets concept page"),"."),(0,n.kt)("h2",{id:"target"},"target",(0,n.kt)("a",{href:"#target","aria-hidden":"true",tabIndex:"-1",parentName:"h2"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"string")," ",(0,n.kt)("inlineCode",{parentName:"p"},"[string]")," ",(0,n.kt)("inlineCode",{parentName:"p"},"false")),(0,n.kt)("p",null,"Instructs webpack to target a specific environment. Defaults to ",(0,n.kt)("inlineCode",{parentName:"p"},"'browserslist'")," or to ",(0,n.kt)("inlineCode",{parentName:"p"},"'web'")," when no browserslist configuration was found."),(0,n.kt)("h3",{id:"string"},"string",(0,n.kt)("a",{href:"#string","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"The following string values are supported via ",(0,n.kt)("a",{href:"https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsApply.js",parentName:"p"},(0,n.kt)("inlineCode",{parentName:"a"},"WebpackOptionsApply")),":"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr"},"Option"),(0,n.kt)("th",{parentName:"tr"},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{"data-th":"Option",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"async-node[[X].Y]"))),(0,n.kt)("td",{"data-th":"Description",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"Compile for usage in a Node.js-like environment (uses ",(0,n.kt)("inlineCode",{parentName:"span"},"fs")," and ",(0,n.kt)("inlineCode",{parentName:"span"},"vm")," to load chunks asynchronously)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{"data-th":"Option",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"electron[[X].Y]-main"))),(0,n.kt)("td",{"data-th":"Description",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"Compile for ",(0,n.kt)("a",{href:"https://electronjs.org/",parentName:"span"},"Electron")," for main process."))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{"data-th":"Option",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"electron[[X].Y]-renderer"))),(0,n.kt)("td",{"data-th":"Description",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"Compile for ",(0,n.kt)("a",{href:"https://electronjs.org/",parentName:"span"},"Electron")," for renderer process, providing a target using ",(0,n.kt)("inlineCode",{parentName:"span"},"JsonpTemplatePlugin"),", ",(0,n.kt)("inlineCode",{parentName:"span"},"FunctionModulePlugin")," for browser environments and ",(0,n.kt)("inlineCode",{parentName:"span"},"NodeTargetPlugin")," and ",(0,n.kt)("inlineCode",{parentName:"span"},"ExternalsPlugin")," for CommonJS and Electron built-in modules."))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{"data-th":"Option",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"electron[[X].Y]-preload"))),(0,n.kt)("td",{"data-th":"Description",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"Compile for ",(0,n.kt)("a",{href:"https://electronjs.org/",parentName:"span"},"Electron")," for renderer process, providing a target using ",(0,n.kt)("inlineCode",{parentName:"span"},"NodeTemplatePlugin")," with ",(0,n.kt)("inlineCode",{parentName:"span"},"asyncChunkLoading")," set to ",(0,n.kt)("inlineCode",{parentName:"span"},"true"),", ",(0,n.kt)("inlineCode",{parentName:"span"},"FunctionModulePlugin")," for browser environments and ",(0,n.kt)("inlineCode",{parentName:"span"},"NodeTargetPlugin")," and ",(0,n.kt)("inlineCode",{parentName:"span"},"ExternalsPlugin")," for CommonJS and Electron built-in modules."))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{"data-th":"Option",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"node[[X].Y]"))),(0,n.kt)("td",{"data-th":"Description",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"Compile for usage in a Node.js-like environment (uses Node.js ",(0,n.kt)("inlineCode",{parentName:"span"},"require")," to load chunks)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{"data-th":"Option",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"node-webkit[[X].Y]"))),(0,n.kt)("td",{"data-th":"Description",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"Compile for usage in WebKit and uses JSONP for chunk loading. Allows importing of built-in Node.js modules and ",(0,n.kt)("a",{href:"http://docs.nwjs.io/en/latest/",parentName:"span"},(0,n.kt)("inlineCode",{parentName:"a"},"nw.gui"))," (experimental)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{"data-th":"Option",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"nwjs[[X].Y]"))),(0,n.kt)("td",{"data-th":"Description",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"The same as ",(0,n.kt)("inlineCode",{parentName:"span"},"node-webkit")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{"data-th":"Option",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"web"))),(0,n.kt)("td",{"data-th":"Description",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"Compile for usage in a browser-like environment ",(0,n.kt)("strong",{parentName:"span"},"(default)")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{"data-th":"Option",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"webworker"))),(0,n.kt)("td",{"data-th":"Description",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"Compile as WebWorker"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{"data-th":"Option",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"esX"))),(0,n.kt)("td",{"data-th":"Description",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"Compile for specified ECMAScript version. Examples: es5, es2020."))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{"data-th":"Option",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},(0,n.kt)("inlineCode",{parentName:"span"},"browserslist"))),(0,n.kt)("td",{"data-th":"Description",parentName:"tr"},(0,n.kt)("span",{parentName:"td"},"Infer a platform and the ES-features from a browserslist-config ",(0,n.kt)("strong",{parentName:"span"},"(default if browserslist config is available)")))))),(0,n.kt)("p",null,"For example, when the ",(0,n.kt)("inlineCode",{parentName:"p"},"target")," is set to ",(0,n.kt)("inlineCode",{parentName:"p"},'"electron-main"'),", webpack includes multiple electron specific variables."),(0,n.kt)("p",null,"A version of ",(0,n.kt)("inlineCode",{parentName:"p"},"node")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"electron")," may be optionally specified. This is denoted by the ",(0,n.kt)("inlineCode",{parentName:"p"},"[[X].Y]")," in the table above."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  target",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'node12.18'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"It helps determinate ES-features that may be used to generate a runtime-code (all the chunks and modules are wrapped by runtime code)."),(0,n.kt)("h4",{id:"browserslist"},"browserslist",(0,n.kt)("a",{href:"#browserslist","aria-hidden":"true",tabIndex:"-1",parentName:"h4"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"If a project has a browserslist config, then webpack will use it for:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Determinate ES-features that may be used to generate a runtime-code."),(0,n.kt)("li",{parentName:"ul"},"Infer an environment (e.g: ",(0,n.kt)("inlineCode",{parentName:"li"},"last 2 node versions")," the same as ",(0,n.kt)("inlineCode",{parentName:"li"},'target: "node"')," with some ",(0,n.kt)("a",{href:"/configuration/output/#outputenvironment",parentName:"li"},(0,n.kt)("inlineCode",{parentName:"a"},"output.environment"))," settings).")),(0,n.kt)("p",null,"Supported browserslist values:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"browserslist")," - use automatically resolved browserslist config and environment (from the nearest ",(0,n.kt)("inlineCode",{parentName:"li"},"package.json")," or ",(0,n.kt)("inlineCode",{parentName:"li"},"BROWSERSLIST")," environment variable, see ",(0,n.kt)("a",{href:"https://github.com/browserslist/browserslist#queries",parentName:"li"},"browserslist documentation")," for details)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"browserslist:modern")," - use ",(0,n.kt)("inlineCode",{parentName:"li"},"modern")," environment from automatically resolved browserslist config"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"browserslist:last 2 versions")," - use an explicit browserslist query (config will be ignored)"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"browserslist:/path/to/config")," - explicitly specify browserslist config"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"browserslist:/path/to/config:modern")," - explicitly specify browserslist config and an environment")),(0,n.kt)("h3",{id:"string-1"},"[string]",(0,n.kt)("a",{href:"#string-1","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"When multiple targets are passed, then common subset of features will be used:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  target",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'web'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'es5'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"Webpack will generate a runtime code for web platform and will use only ES5 features."),(0,n.kt)("p",null,"Not all targets may be mixed for now."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  target",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),(0,n.kt)("span",{className:"token string",parentName:"code"},"'web'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},",")," ",(0,n.kt)("span",{className:"token string",parentName:"code"},"'node'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"Will cause an error. Webpack does not support universal target for now."),(0,n.kt)("h3",{id:"false"},"false",(0,n.kt)("a",{href:"#false","aria-hidden":"true",tabIndex:"-1",parentName:"h3"},(0,n.kt)("span",{className:"header-link",parentName:"a"}))),(0,n.kt)("p",null,"Set ",(0,n.kt)("inlineCode",{parentName:"p"},"target")," to ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," if none of the predefined targets from the list above meet your needs, no plugins will be applied."),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},"module",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  target",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"Or you can apply specific plugins you want:"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"webpack.config.js")),(0,n.kt)("pre",null,(0,n.kt)("code",{className:"hljs language-js",parentName:"pre"},(0,n.kt)("span",{className:"token keyword",parentName:"code"},"const")," webpack ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token function",parentName:"code"},"require"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'webpack'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"),"\n\nmodule",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"exports ",(0,n.kt)("span",{className:"token operator",parentName:"code"},"=")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"{"),"\n  ",(0,n.kt)("span",{className:"token comment",parentName:"code"},"// ..."),"\n  target",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token boolean",parentName:"code"},"false"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  plugins",(0,n.kt)("span",{className:"token operator",parentName:"code"},":")," ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"["),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"webpack",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"."),"web",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"."),"JsonpTemplatePlugin"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),"options",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"."),"output",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n    ",(0,n.kt)("span",{className:"token keyword",parentName:"code"},"new")," ",(0,n.kt)("span",{className:"token class-name",parentName:"code"},"webpack",(0,n.kt)("span",{className:"token punctuation",parentName:"span"},"."),"LoaderTargetPlugin"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"("),(0,n.kt)("span",{className:"token string",parentName:"code"},"'web'"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},")"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n  ",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"]"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},","),"\n",(0,n.kt)("span",{className:"token punctuation",parentName:"code"},"}"),(0,n.kt)("span",{className:"token punctuation",parentName:"code"},";"))),(0,n.kt)("p",null,"When no information about the target or the ",(0,n.kt)("a",{href:"/configuration/output/#outputenvironment",parentName:"p"},"environment")," features is provided, then ES2015 will be used."))}r.isMDXComponent=!0,t.default=r}}]);